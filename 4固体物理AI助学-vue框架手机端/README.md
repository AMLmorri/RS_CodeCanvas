# 固体物理AI助学-手机端（Vue框架）

## 项目简介

本项目是我大三期间独立开发的物理教学平台移动端，基于Vue框架，专为手机网页端设计，采用响应式布局，完美适配各类移动设备。支持学生端物理专业问答等功能，界面美观、交互流畅，所有代码均为本人纯手敲实现。

## 技术亮点与源码分析

### 1. 智能体聊天模块

核心功能为“智能体多轮对话”，实现了复杂的消息流转与上下文管理。通过`Chat_box_rt.vue`组件，支持AI与用户的多轮交互，消息气泡、时间条、分轮显示、消息折叠、知识点表格等细节均有精细打磨。所有消息状态、折叠、选中、上下文分段等均用Vue响应式数据管理，保证了高效的渲染与交互体验。

### 2. 红蓝针导航栏与上下文管理

项目独创“红蓝针”导航栏，允许用户通过拖动红针、蓝针精准控制AI对话的上下文范围。实现细节包括：
- 利用原生事件监听（mousedown/touchstart/move/end）实现指针拖拽，动态计算指针与消息的映射关系。
- 红蓝针与消息流的虚拟时间轴联动，拖动时实时渲染红蓝线覆盖区域，确保视觉与数据一致。
- 通过`requestAnimationFrame`优化拖动性能，避免高频事件卡顿。
- 上下文分段后，前端将分段ID与消息内容同步提交后端，仅渲染选定范围内的消息，实现“专注模式”。
- 采用WebSocket实现前后端实时同步，结合Vue响应式管理消息分片，极大提升了上下文切换的流畅性。

### 3. 语音输入转文字

集成Web Speech API，支持语音输入自动转文字：
- 通过SpeechRecognition接口捕获音频流，实时转写为文本。
- 增加降噪与语音活性检测（VAD），避免无效音频上传。
- 利用Web Audio API可视化声波纹，增强用户交互反馈。
- 针对不同浏览器做兼容性检测与降级处理，保证主流环境下的可用性。

### 4. 公式渲染与图片放大

- 公式渲染采用MathJax 3.0，异步加载，消息组件挂载后动态解析，支持复杂物理公式的高质量显示。
- 图片放大功能自定义实现，支持手势缩放、拖拽、动画过渡，提升移动端体验。

### 5. 响应式布局与UI设计

- 全面采用flex布局与媒体查询，保证在各类手机屏幕下均有优异表现。
- 组件化开发，UI细节如消息气泡、红蓝针、导航栏、菜单等均为本人独立设计与实现。
- 所有样式与交互均为手写，未使用UI模板，充分体现前端工程化能力。

### 6. 路由与权限管理

- 使用Vue Router实现多页面跳转，路由守卫保证登录态安全。
- 代码结构清晰，易于维护与扩展。

### 7. Markdown与消息处理

- 自研`message.js`工具，支持Markdown转纯文本、图片与公式保留、冗余格式清理，提升消息处理的灵活性。

## 代码片段与技术细节

- **拖拽指针与上下文分段**：
  - 通过监听拖拽事件，动态计算指针位置与消息索引的映射，实时渲染红蓝线。
  - `handlePointerDrag`函数中，限制红针、蓝针的拖动范围，防止越界，提升交互安全性。
- **WebSocket消息同步**：
  - 聊天消息与上下文分段通过WebSocket实时同步，保证多端一致性。
- **公式与图片渲染**：
  - 消息内容支持Markdown、LaTeX公式、图片混排，异步渲染，不卡主线程。
- **语音转文字**：
  - 语音输入自动转写，结合降噪与VAD，提升准确率与体验。

## 个人收获

本项目让我深入掌握了Vue组件化开发、复杂交互实现、WebSocket实时通信、原生API深度应用、响应式布局与工程化设计。红蓝针拖动、上下文管理、语音转写、公式渲染等功能均为本人独立设计与实现，充分体现了前端开发的综合能力与创新精神。

> **每一行代码均为本人纯手敲，所有功能与交互均为自主设计与实现。**

---

![产品前端介绍-长图](./images/产品前端介绍-长图.png) 